<!DOCTYPE html>

<html>
   <head>
      <meta charset = "utf-8">
      <title>Exercise 7.12</title>
      <script type="text/javascript">
      	var miles;
        var gallons;
        var milesPerGl;
        var totalMiles = 0;
        var totalGl = 0;
        var repeat;
        
        do {
        	if (repeat === true) {
          	document.writeln("<hr />");
          }
      		do {
        		miles = (window.prompt("Enter the number of miles driven.")).trim();
          	if ( isNaN(miles) || ((miles % 1) !== 0) || miles === '' ) {
          		window.alert("The input must be an integer!");
          	}
        	} while ( isNaN(miles) || ((miles % 1) !== 0) || miles === '' );
        
        	do {
        		gallons = (window.prompt("Enter the number of gallons used.")).trim();
          	if ( isNaN(gallons) || (gallons % 1) !== 0 || gallons === '' ) {
          		window.alert("The input must be an integer!");
          	}
        	} while ( isNaN(gallons) || (gallons % 1) !== 0 || gallons === '' );
          
          totalMiles += (miles * 1);
        	totalGl += (gallons * 1);
        	milesPerGl = Math.round(miles / gallons);
          totalMpGl = Math.round(totalMiles / totalGl);
        	document.writeln("<p>This tankful had a mileage of " + milesPerGl + " miles per gallon.</p>");
          document.writeln("<p>Your average mileage across all tankfuls is " + totalMpGl + " miles per gallon</p>");
        	if (window.confirm("Enter another tankful?") === true) {
          	repeat = true;
          } else {
          	repeat = false;
          }
        } while (repeat === true);
      </script>
   </head>
   <body>
   </body>
</html>
